$(document).ready(function(){function t(e){var t=/^([a-zA-Z0-9_.-])+@([a-zA-Z0-9_.-])+\.([a-zA-Z])+([a-zA-Z])+/;if(t.test(e))return true;else return false}function n(){var e=$("#logp");var t=$("#logm");var n=$("#slogp");var r=$("#slogm");if(!$("input[name=log4]").is(":checked")){$("#note").addClass("dangerclass");g("Please Choose Log In as..",500,1e3);return false}if(a(e,n)&f(t,r)){var i=$(location).attr("href");var s={e:t.val().trim(),p:e.val().trim(),l:$("input[name=log4]:checked").val()};$.ajax({type:"post",contentType:"application/json",url:"/login_cking/",dataType:"json",data:JSON.stringify(s),beforeSend:function(){$("#logb").html("Signing In .....");$("#logb").attr("disabled","disabled")},success:function(t){$("#logb").html("Sign In");$("#logb").removeAttr("disabled");if(t.s=="1"){e.removeClass("bordercol");$("#slogb").html("");$("#note").addClass("successclass");g("Successfully login....",100,5e3);window.location.href=i}else if(t.s=="0"){e.val("");e.addClass("bordercol");$("#note").addClass("dangerclass");g("Oops!! Email or Password is wrong",500,1e3)}else{e.val("");e.addClass("bordercol");$("#note").addClass("dangerclass");g("Oops!! Email or Password is wrong",500,1e3)}}})}}function r(e,t){if(e.val().trim().length<3){e.addClass("bordercol");t.css("color","red").html("looking not good");return false}else{e.removeClass("bordercol");t.css("color","red").html("");return true}}function i(e,t){if(e.val()!=""){e.removeClass("bordercol");return true}else{e.addClass("bordercol");return false}}function s(e,t){var n=e.val().trim();if(n.length<10||n.length>10){e.addClass("bordercol");t.css("color","red").html("Invalid !!");return false}else if(isNaN(n)||n.charAt(0)!="9"&&n.charAt(0)!="8"&&n.charAt(0)!="7"){e.addClass("bordercol");t.css("color","red").html("Invalid !!");return false}else{e.removeClass("bordercol");t.css("color","red").html("");return true}}function o(e,t){if(e.val().trim().length<3){e.addClass("bordercol");t.css("color","red").html("looking not good");return false}else{e.removeClass("bordercol");t.css("color","red").html("");return true}}function u(e,t){if(e.val().trim().length<3){e.addClass("bordercol");t.css("color","red").html("looking not good");return false}else{e.removeClass("bordercol");t.css("color","red").html("");return true}}function a(e,t){if(e.val().trim().length<6){e.addClass("bordercol");t.css("color","red").html("Atleast 6 characters");e.val("");return false}else{e.removeClass("bordercol");t.css("color","red").html("");return true}}function f(e,n){if(t(e.val().trim())){e.removeClass("bordercol");n.css("color","red").html("");return true}else{e.addClass("bordercol");n.css("color","red").html("Invalid email");return false}}function l(e,t){if(e.val().trim().length<2){e.addClass("bordercol");t.css("color","red").html("looking not good ?");return false}else{e.removeClass("bordercol");t.css("color","red").html("");return true}}function c(e,t){if(e.val().trim().length<4||e.val().trim().length>500){e.addClass("bordercol");t.css("color","red").html("word limit 10 to 499");return false}else{e.removeClass("bordercol");t.css("color","red").html("");return true}}function h(){var e=$("#sigp");var t=$("#sigm");var n=$("#ssigp");var r=$("#ssigm");var i=$("#sign");var s=$("#ssign");if(a(e,n)&f(t,r)&l(i,s)){$("#sigb").attr("disabled","disabled");$("#sigb").html("Signing.... ");var o={p:e.val().trim(),e:t.val().trim(),n:i.val().trim()};$.ajax({type:"post",url:"/signup_cking/",contentType:"application/json",dataType:"json",data:JSON.stringify(o),success:function(e){if(e.s=="1"){$("#sigb").html("Signing....");$("#sigb").removeAttr("disabled");$("#note").addClass("successclass");g("Successfully Signup redirecting to home....",100,5e3);window.location.href="/"}else{$("#sigb").html("Signup");$("#sigb").removeAttr("disabled");$("#sigm").addClass("bordercol");$("#note").addClass("dangerclass");g("Email already in use",500,2e3)}}})}}function p(e,t,n,r){var i;if(!$("#info1").hasClass("hide"))i=$("#info1");else if(!$("#hist").hasClass("hide"))i=$("#hist");else if(!$("#uplod").hasClass("hide"))i=$("#uplod");else if(!$("#cngpass").hasClass("hide"))i=$("#cngpass");i.addClass("hide");if(e==1)$("#hist").removeClass("hide");else if(t==1)$("#cngpass").removeClass("hide");else if(n==1)$("#uplod").removeClass("hide");else if(r==1)$("#info1").removeClass("hide")}function d(){if(!$("#oldcng").is(":disabled")){var e={p:$("#oldcng").val().trim(),c:"old"};$.ajax({url:"/login_cking/pass_ing_pass/",type:"post",contentType:"application/json",dataType:"json",data:JSON.stringify(e),success:function(e){if(e.s=="1"){$("#soldcng_w").addClass("hide");$("#soldcng_c").removeClass("hide");$("#oldcng").attr("disabled","disabled");return true}else{$("#soldcng_c").addClass("hide");$("#soldcng_w").removeClass("hide");$("#oldcng").focus();return false}}})}else return true}function v(e,t,n,r,i){if(n=="rm")var s={i:parseInt(r),w:"rm"};else var s={m:n,t:r,p:i,w:"add"};$.ajax({url:"/upload_menu_item/",type:"post",dataType:"json",contentType:"application/json",data:JSON.stringify(s),beforeSend:function(){},success:function(r){if(r.s=="1"){if(n=="rm"){$("#note").addClass("successclass");g("Removed..",100,1e3)}else{e.val("");t.val("");$("#note").addClass("successclass");g("Successfully uploaded!!",100,1e3)}}else{if(n=="rm"){$("#note").addClass("dangerclass");g("Try Again..",100,1e3)}else{$("#note").addClass("dangerclass");g("Not uploaded!!",100,1e3);return}}}});return}function m(){var e=$("#o_email");var t=$("#so_email");var n=$("#o_name");var r=$("#so_name");var i=$("#o_locality");var c=$("#so_locality");var h=$("#o_area");var p=$("#so_area");var d=$("#o_city");var v=$("#so_city");var m=$("#o_phone");var g=$("#so_phone");var y=$("#o_img");var b=$("#so_img");var w=$("#o_pass");var E=$("#so_pass");$("#o_signup").attr("disabled","disabled");$("#o_signup").html("Signing.... ");if(o(h,p)&s(m,g)&a(w,E)&f(e,t)&l(n,r)&u(d,v)){var S=0;var x={e:e.val().trim(),r_n:n.val().trim(),ar:h.val().trim(),cit:d.val().trim(),ph:m.val().trim(),pa:w.val().trim()};$.ajax({type:"post",url:"/rest_user_cking/",contentType:"application/json",dataType:"json",data:JSON.stringify(x),success:function(n){if(n.r=="1"){e.removeClass("bordercol");t.css("color","red").html("");$("#o_signup").html("Signup");$("#o_signup").removeAttr("disabled");window.location.href="/"}else{e.addClass("bordercol");t.css("color","red").html("This email Address not allowed");$("#o_signup").html("Signup");$("#o_signup").removeAttr("disabled")}}})}else{$("#o_signup").html("Signup");$("#o_signup").removeAttr("disabled");return false}}function g(e,t,n){$("#note").html("<div id='note-text'><center>"+e+"</center></div>");$("#note").fadeIn(t).delay(n).fadeOut(1e3)}function y(){var e=$("#rev_text").val().trim();if(e.length<=800&&e.length>=4){b("default",e)}else{$("#rev_text").addClass("bordercol");$("#note").addClass("dangerclass");g("Please write review...",100,1e3)}}function b(e,t){if(e=="default")var n={t:t,w:"default"};else if(e=="cnf")var n={reid:parseInt(t),w:"cnf"};else if(e=="delt")var n={reid:parseInt(t),w:"delt"};else return;$.ajax({url:"/reviews/",type:"post",dataType:"json",contentType:"application/json",data:JSON.stringify(n),success:function(e){if(e.s=="1"){$("#note").addClass("successclass");g("Successfully done !!",100,2e3)}else{$("#note").addClass("dangerclass");g("Something went wrong try again !!",100,2e3)}location.reload()}})}function w(e){$.ajax({url:"/contactus/",type:"post",contentType:"application/json",dataType:"json",data:JSON.stringify(e),success:function(t){if(t.s=="1"){if(e.w=="addme"){$("#note").addClass("successclass");g("Sent to Admin, contact You Soon..",100,2e3)}else{$("#note").addClass("successclass");g("deleted",100,2e3)}}else{$("#note").addClass("dangerclass");g("Something went wrong..",100,2e3)}}})}function E(e){$.ajax({url:"/deleteuserrest/",type:"post",contentType:"application/json",dataType:"json",data:JSON.stringify(e),success:function(e){if(e.s=="1"){$("#note").addClass("successclass");g("deleted..",100,1e3)}else{$("#note").addClass("dangerclass");g("deleted..",100,1e3)}}})}var e={loader:$("<div />",{"class":"loader-load"}),container:$("#lload")};$("#bt").keyup(function(){var e=$("#bt").val().trim();if(e.length>0){var t={s:e};$.ajax({type:"post",contentType:"application/json",url:"/instant/",dataType:"json",data:JSON.stringify(t),success:function(t){$(".results").html("");var n=[];n.push("<p class='pull-right'><em>you type..</em></p><li class='sel'>&nbsp;&nbsp;&nbsp;&nbsp;"+e+"</li>");$.each(t,function(e,t){n.push("<li ><span class='sel'>"+"<span class='glyphicon glyphicon-map-marker'>"+t+"</span></span></li>")});if(n.length>1)$(".results").html(n);else $(".results").html("<b>No result found<b>");$(".sel").mouseover(function(){var e=$(this).text();$("#bt").val(e)});$("#bt").keydown(function(e){if(e.keyCode==40){alert($("results li:first").next().text())}})}})}else $(".results").html("")});$("#logp").keydown(function(e){if(e.keyCode==13)n()});$("#logb").click(n);$("#logm").keydown(function(e){if(e.keyCode==13)n()});$("#info_load").click(function(){p(0,0,0,1)});$("#cngpass_load").click(function(){p(0,1,0,0);alert("pass")});$("#hist_load").click(function(){alert("hist")});$("#sigp").keydown(function(e){if(e.keyCode==13)h()});$("#sign").keydown(function(e){if(e.keyCode==13)h()});$("#sigb").click(h);$("#sigm").keydown(function(e){if(e.keyCode==13)h()});$("#info_e").click(function(){$("#info_s").removeClass("hide");$("#info_e").addClass("hide");$("#info_e_n").removeAttr("disabled");$("#info_e_m").removeAttr("disabled");$("#info_e_add").removeAttr("disabled")});$("#info_s").click(function(){});$("#newcng").focus(function(){if(d()){$("#newcng").keyup(function(){if($("#newcng").val().trim().length>=6){$("#snewcng_w").addClass("hide");$("#snewcng_c").removeClass("hide")}else{$("#snewcng_c").addClass("hide");$("#snewcng_w").removeClass("hide")}})}});$("#confcng").focus(function(){if(d()){if($("#newcng").val().trim().length<6)$("#newcng").focus();$("#confcng").keyup(function(){if($("#confcng").val().trim()==$("#newcng").val().trim()){$("#sconfcng_w").addClass("hide");$("#sconfcng_c").removeClass("hide")}else{$("#sconfcng_c").addClass("hide");$("#sconfcng_w").removeClass("hide")}})}else{}});$("#chng_pass").click(function(){if($("#confcng").val().trim().length>=6){var t={p:$("#confcng").val().trim(),c:"new"};$.ajax({url:"/login_cking/pass_ing_pass/",type:"post",contentType:"application/json",dataType:"json",data:JSON.stringify(t),beforeSend:function(){e.container.append(e.loader)},success:function(t){e.container.find(e.loader).remove();if(t.s=="1"){$("#confcng").val("");$("#newcng").val("");$("#oldcng").val("");$("#oldcng").removeAttr("disabled");$("#sconfcng_c").addClass("hide");$("#sconfcng_w").addClass("hide");$("#snewcng_c").addClass("hide");$("#snewcng_w").addClass("hide");$("#soldcng_c").addClass("hide");$("#soldcng_w").addClass("hide");$("#note").addClass("successclass");g("Successfully Change",100,2500)}else{$("#cng_alert").addClass("alt-font");$("#note").addClass("dangerclass");g("Not Change",100,2500)}}})}else{$("#note").addClass("dangerclass");g("All field are compulsory ",100,2e3)}});$(".de_menu").click(function(){var e=$(this).val().trim();v("rm","rm","rm",e,"rm");$(this).parent().addClass("hide")});$("#up_submit_m1").click(function(){if($("#up_m1").val().trim().length>=3){$("#up_m1").removeClass("bordercol");if($("input[name=f-type-1]").is(":checked")){if($("#up_m1_price").val().trim().length>=1){$("#up_m1_price").removeClass("bordercol");v($("#up_m1"),$("#up_m1_price"),$("#up_m1").val().trim(),$("input[name=f-type-1]:checked").val(),$("#up_m1_price").val().trim())}else{$("#up_m1_price").addClass("bordercol");$("#note").addClass("dangerclass");g("Please enter menu price",100,1e3)}}else{$("#note").addClass("dangerclass");g("Please checked Veg or Non-Veg",100,1e3)}}else{$("#up_m1").addClass("bordercol");$("#note").addClass("dangerclass");g("Please input valid menu name",100,1e3)}});$("#up_submit_m2").click(function(){if($("#up_m2").val().trim().length>=3){$("#up_m2").removeClass("bordercol");if($("input[name=f-type-2]").is(":checked")){if($("#up_m2_price").val().trim().length>=1){$("#up_m2_price").removeClass("bordercol");v($("#up_m2"),$("#up_m2_price"),$("#up_m2").val().trim(),$("input[name=f-type-2]:checked").val(),$("#up_m2_price").val().trim())}else{$("#up_m2_price").addClass("bordercol");$("#note").addClass("dangerclass");g("Please enter menu price",100,1e3)}}else{$("#note").addClass("dangerclass");g("Please checked Veg or Non-Veg",100,1e3)}}else{$("#up_m2").addClass("bordercol");$("#note").addClass("dangerclass");g("Please input valid menu name",100,1e3)}});$("#up_submit_m3").click(function(){if($("#up_m3").val().trim().length>=3){$("#up_m3").removeClass("bordercol");if($("input[name=f-type-3]").is(":checked")){if($("#up_m3_price").val().trim().length>=1){$("#up_m3_price").removeClass("bordercol");v($("#up_m3"),$("#up_m3_price"),$("#up_m3").val().trim(),$("input[name=f-type-3]:checked").val(),$("#up_m3_price").val().trim())}else{$("#up_m3_price").addClass("bordercol");$("#note").addClass("dangerclass");g("Please enter menu price",100,1e3)}}else{$("#note").addClass("dangerclass");g("Please checked Veg or Non-Veg",100,1e3)}}else{$("#up_m3").addClass("bordercol");$("#note").addClass("dangerclass");g("Please input valid menu name",100,1e3)}});$("#up_submit_m4").click(function(){if($("#up_m4").val().trim().length>=3){$("#up_m4").removeClass("bordercol");if($("input[name=f-type-4]").is(":checked")){if($("#up_m4_price").val().trim().length>=1){$("#up_m4_price").removeClass("bordercol");v($("#up_m4"),$("#up_m4_price"),$("#up_m4").val().trim(),$("input[name=f-type-4]:checked").val(),$("#up_m4_price").val().trim())}else{$("#up_m4_price").addClass("bordercol");$("#note").addClass("dangerclass");g("Please enter menu price",100,1e3)}}else{$("#note").addClass("dangerclass");g("Please checked Veg or Non-Veg",100,1e3)}}else{$("#up_m4").addClass("bordercol");$("#note").addClass("dangerclass");g("Please input valid menu name",100,1e3)}});$("#o_signup").click(m);$("#o_email,#o_name,#o_area,#o_city,#o_phone, #o_pass").keydown(function(e){if(e.keyCode==13)m()});$("#pro_pic_id").change(function(){$("#pro_pic_btn").removeAttr("disabled")});$(".add_cart").click(function(){var e=$(this).val();var t=$("#qun_"+e);var n={i:e,q:t.val()};$.ajax({url:"/add_menu_cart/",type:"post",contentType:"application/json",dataType:"json",data:JSON.stringify(n),beforeSend:function(){$("#load_cart_data").addClass("loader-load")},success:function(e){var t=[];$.each(e.products,function(e,n){t.push("<center><b>"+n.nam+" ( "+n.q+' x <i class="fa fa-inr"></i>'+n.pri+' )</b></center> <span class="pull-right glyphicon glyphicon-trash trash"id='+n.pid+"></span><hr/>")});$("#cart_items_list").html(t);$("#total_pay").html("<b>"+e.totals+"</b>");$("#cart_badge").html(e.count);$("#load_cart_data").removeClass("loader-load");if(e.totals>=300){$("#checkout").html("<center><b>Proceed to checkout</b></center>");$("#checkout").removeAttr("disabled")}else{}location.reload()}})});$(".trash").click(function(){var e={i:this.id};$.ajax({url:"/delete_menu_cart/",type:"post",contentType:"application/json",dataType:"json",data:JSON.stringify(e),beforeSend:function(){$("#load_cart_data").addClass("loader-load")},success:function(e){var t=[];$.each(e.products,function(e,n){t.push("<center><b>"+n.nam+" ( "+n.q+' x <i class="fa fa-inr"></i>'+n.pri+' )</b></center> <span class="pull-right glyphicon glyphicon-trash trash"id='+n.pid+"></span><hr/>")});$("#cart_items_list").html(t);$("#total_pay").html("<b>"+e.totals+"</b>");$("#cart_badge").html(e.count);$("#load_cart_data").removeClass("loader-load");location.reload()}})});$("#iamuser").click(function(){$("#cont_guest").addClass("hide");$("#iamuser_login").removeClass("hide");$("#g_o_n_p").removeClass("hide")});$("#guest").click(function(){$("#cont_guest").removeClass("hide");$("#iamuser_login").addClass("hide");$("#g_o_n_p").addClass("hide")});$("#cont_guest").click(function(){var e=$("#g_o_n_e").val().trim();if(t(e)){$("#sg_o_n_e").html("");$("#checkform_bill").submit()}else{$("#sg_o_n_e").css("color","red").html("Invalid email")}});$("#iamuser_login").click(function(){var e=$("#g_o_n_e").val().trim();if(t(e)){$("#sg_o_n_e").html("");if(a($("#g_o_n_p"),$("#sg_o_n_p"))){var n={e:e,p:$("#g_o_n_p").val().trim()};$.ajax({type:"post",contentType:"application/json",url:"/check_login_billing/",dataType:"json",data:JSON.stringify(n),success:function(e){if(e.s=="1"){$("#checkform_bill").submit()}else{$("#note").addClass("dangerclass");g("Email or password is wrong",100,2e3);$("#g_o_n_p").val("")}}})}}else{$("#sg_o_n_e").css("color","red").html("Invalid email")}});$("#del_btnn").click(function(){if(o($("#del_add"),$("#sdel_add"))&u($("#del_city"),$("#sdel_city"))&s($("#del_mob"),$("#sdel_mob"))&l($("#del_nam"),$("#sdel_nam"))){$("#note").addClass("successclass");g("Your Order is Placed, we will confirm your order Soon..",100,5e3);setTimeout(function(){$("#final").submit()},2e3)}});$("#quer_btn").click(function(){$("#m_s").submit()});$(".ifdelv").click(function(){var e=this.id.replace("ifdelv","");var t={roid:e};$.ajax({url:"/order_checkout_billing/yes/",type:"post",contentType:"application/json",dataType:"json",data:JSON.stringify(t),success:function(t){if(t.s=="1"){e="#ifdelv"+e;$(e).html("Delivered");$(e).removeClass("ifdelv");$(e).removeClass("sty_cur")}else{$("#note").addClass("dangerclass");g("Something went wrong Try later !!!",100,2e3)}}})});$("#up_general").click(function(){var e=$("#info_e_add");var t=$("#info_e_m");var n=$("#info_e_city");var r=$("#sinfo_e_add");var i=$("#sinfo_e_m");var a=$("#sinfo_e_city");if(o(e,r)&u(n,a)&s(t,i)){var f={s:e.val().trim(),c:n.val().trim(),m:t.val().trim()};$.ajax({url:"/profile/general/",type:"post",contentType:"application/json",dataType:"json",data:JSON.stringify(f),success:function(e){if(e.s=="1"){$("#note").addClass("successclass");g("Successfully Saved !!",100,2e3)}else{$("#note").addClass("dangerclass");g("Something went wrong Try later !!!",100,2e3)}}})}});$("#rev_sbt").click(y);$(".delt_rev").click(function(){var e=$(this).val().trim();b("delt",e)});$(".cnf_rev").click(function(){var e=$(this).val().trim();b("cnf",e)});$("#con_send").click(function(){var e=$("#con_name");var t=$("#scon_name");var n=$("#con_mobile");var r=$("#scon_mobile");var i=$("#con_msg");var o=$("#scon_msg");var u=$("#con_email");var a=$("#scon_email");if(l(e,t)&s(n,r)&c(i,o)&f(u,a)){var h={e:u.val().trim(),n:e.val().trim(),m:n.val().trim(),msg:i.val().trim(),w:"addme"};e.val("");n.val("");i.val("");u.val("");w(h)}});$(".sty_cur").click(function(){var e=this.id;var t=e+"_well";var n=e.replace("sty_cur_","");var r={cid:parseInt(n),w:"delme"};w(r);$("#"+e).removeClass("sty_cur");$("#"+t).addClass("hide")});$(".clk_rest").click(function(){var e=this.id.replace("restu_","");var t={t:"r",e:e};var n=$(this).parent().attr("id");E(t);$("#"+n).addClass("hide")});$(".clk_u").click(function(){var e=this.id.replace("u_","");var t={t:"u",e:e};var n=$(this).parent().attr("id");E(t);$("#"+n).addClass("hide")})})